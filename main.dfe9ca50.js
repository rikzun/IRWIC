"use strict";(self.webpackChunkirwic=self.webpackChunkirwic||[]).push([["909"],{105:function(e,t,r){var a=r(893),s=r(745);r(767);var n=r(906);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c{static generateChar(e){return this.codePointsToChar([this.generateCodePoint(e)])}static generateCodePoint(e){let t=e.intBetween(this.range00,this.range11);return t>this.range01&&t<this.range10&&(t+=this.freeSpace),t}static verifyOffset(e){return e>this.range11?e-this.range11:e<0?e+this.range11:e>this.range01&&e<this.range10?e+this.freeSpace:e}static codePointsToChar(e){return String.fromCodePoint(...e)}static codePointsFromChar(e){return Array.from(e).map(e=>e.codePointAt(0))}static splitGraphemes(e){return[...this.segmenter.segment(e)].map(e=>e.segment)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}i(c,"range00",0),i(c,"range01",55295),i(c,"freeSpace",2049),i(c,"range10",57344),i(c,"range11",1114111),i(c,"segmenter",new Intl.Segmenter("en",{granularity:"grapheme"}));class o{getOutput(){return this.mCharacters.join("")}addHash(){let e=(0,n.create)("hash_"+this.keycode),t=v.getHash(this.mCharacters.join(""));return v.generateIndexes(e,p,this.mCharacters.length).forEach((e,r)=>{this.mCharacters.splice(e,0,t[r])}),this}addNoise(){let e=(0,n.create)("noise_"+this.keycode),t=e.intBetween(0,m);return v.generateIndexes(e,t,this.mCharacters.length).forEach(t=>{let r=c.generateChar(e);this.mCharacters.splice(t,0,r)}),this}shuffle(){let e=(0,n.create)("shuffle_"+this.keycode);return v.shuffle(e,this.mCharacters),this}encrypt(){let e=(0,n.create)("offset_"+this.keycode);return this.mCharacters=this.mCharacters.map(t=>{let r=c.codePointsFromChar(t),a=c.generateCodePoint(e),s=c.verifyOffset(r.shift()+a);return c.codePointsToChar([s,...r])}),this}constructor(e,t){l(this,"keycode",void 0),l(this,"mCharacters",void 0),this.keycode=e,this.mCharacters=c.splitGraphemes(t)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u{getOutput(){return this.mCharacters.join("")}removeHash(){let e=(0,n.create)("hash_"+this.keycode),t=this.mCharacters.length-p;if(t<1)throw Error("WRONG STRING");let r=v.generateIndexes(e,p,t),a=r.map(e=>this.mCharacters[e]).join("");if(r.reverse().forEach(e=>this.mCharacters.splice(e,1)),v.getHash(this.mCharacters.join(""))!==a)throw Error("HASH MISMATCH");return this}removeNoise(){let e=(0,n.create)("noise_"+this.keycode),t=e.intBetween(0,m),r=this.mCharacters.length-t;if(r<1)throw Error("WRONG STRING");return v.generateIndexes(e,t,r).reverse().forEach(e=>this.mCharacters.splice(e,1)),this}shuffle(){let e=(0,n.create)("shuffle_"+this.keycode);return v.shuffle(e,this.mCharacters,!0),this}decrypt(){let e=(0,n.create)("offset_"+this.keycode);return this.mCharacters=this.mCharacters.map(t=>{let r=c.generateCodePoint(e),a=c.codePointsFromChar(t),s=c.verifyOffset(a.shift()-r);return c.codePointsToChar([s,...a])}),this}constructor(e,t){h(this,"keycode",void 0),h(this,"mCharacters",void 0),this.keycode=e,this.mCharacters=c.splitGraphemes(t)}}var d=r(887),f=r.n(d);let m=100,p=10;class v{static keywordToKeycode(e){return c.splitGraphemes(e).map(e=>"(".concat(Array.from(e).map(e=>e.codePointAt(0)).join("|"),")")).join("")}static getHash(e){return f()(e).toString().padStart(p,"0")}static generateIndexes(e,t,r){let a=r-1+t,s=new Set;for(;s.size<t;){let t=e.intBetween(0,a);s.add(t)}return Array.from(s).sort((e,t)=>e-t)}static shuffle(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.length-1,s=Array(a);for(let t=a;t>0;t--)s[a-t]=[t,e.intBetween(0,t)];r&&s.reverse(),s.forEach(e=>{let[r,a]=e;[t[r],t[a]]=[t[a],t[r]]})}static encrypt(e,t){return new o(v.keywordToKeycode(e),t).addHash().addNoise().shuffle().encrypt().getOutput()}static decrypt(e,t){let r=v.keywordToKeycode(e);try{return new u(r,t).decrypt().shuffle().removeNoise().removeHash().getOutput()}catch(e){return e.message}}}var g=r(294);function y(e){let[t,r]=(0,g.useState)(e);return{value:t,set:r,invert:()=>r(e=>!e)}}function C(e){var t;let r=null!=(t=e.elements)?t:[e.first,e.second,e.third,e.fourth].filter(e=>null!=e);return(0,a.jsx)("div",{className:"switch",children:r.map(t=>(0,a.jsx)("button",{children:t.title,className:e.state.value==t.value?"active":void 0,onClick:()=>e.state.set(t.value)},t.value))})}r(348);let x=(0,g.memo)(e=>{if(0==e.text.length)return null;let t=e.text.length,r=new Blob([e.text]).size,s=e.comparable?Math.floor(t/e.comparable.length*100-100):null,n=(null!=s?s:0)>=0?"+":"",i=e.comparable?Math.floor(r/new Blob([e.comparable]).size*100-100):null,c=(null!=i?i:0)>=0?"+":"";return(0,a.jsxs)("span",{className:"text-stats",children:[t,s&&"(".concat(n).concat(s,"%)")," chars ",r,i&&"(".concat(c).concat(i,"%)")," bytes"]})},(e,t)=>e.text===t.text),b=document.getElementById("root");(0,s.createRoot)(b).render((0,a.jsx)(function(){var e,t;let r=y("encrypt"),s=y(""),n=y(""),i=y("");return e=()=>{if(""==s.value||""==n.value)return void i.set("");i.set(("encrypt"==r.value?v.encrypt:v.decrypt)(s.value,n.value))},t=[r.value,s.value,n.value],(0,g.useEffect)(()=>{let t=setTimeout(()=>{e()},100);return()=>clearTimeout(t)},t),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"column",children:[(0,a.jsxs)("div",{className:"key-field",children:[(0,a.jsx)("input",{type:"text",spellCheck:"false",placeholder:"Key",className:"text-input",value:s.value,onChange:e=>s.set(e.target.value)}),(0,a.jsx)(C,{first:{title:"Encrypt",value:"encrypt"},second:{title:"Decrypt",value:"decrypt"},state:r})]}),(0,a.jsx)("div",{className:"textarea-container",children:(0,a.jsx)("textarea",{spellCheck:"false",placeholder:"Input",className:"text-input",value:n.value,onChange:e=>n.set(e.target.value)})}),(0,a.jsx)(x,{text:n.value})]}),(0,a.jsxs)("div",{className:"column",children:[(0,a.jsxs)("div",{className:"textarea-container",children:[(0,a.jsx)("textarea",{spellCheck:"false",placeholder:"Output",className:"text-input output",value:i.value,disabled:!0}),(0,a.jsx)("button",{className:"copy-button active",children:"Copy",onClick:()=>navigator.clipboard.writeText(i.value)})]}),(0,a.jsx)(x,{text:i.value,comparable:n.value})]})]})},{}))},767:function(e,t,r){e.exports={}},348:function(e,t,r){e.exports={}}},function(e){e.O(0,["863"],function(){return e(e.s=105)}),e.O()}]);